import urllib.parse
import re
from bs4 import BeautifulSoup

def decode_unicode_escape(match):
    return bytes(match.group(0).replace('%u', '\\u'), 'latin-1').decode('unicode_escape')

# 原始编码字符串（示例）
encoded_str = '%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%270AB40698648C779D6F593E72443DB252F014AE998ECE654986194D6747DC55B8%27%2C1%2C0%29%3B%22%3E%3Ctd%3E1%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u6CF8%u53BF%u6C34%u65F1%u707E%u5BB3%u9632%u5FA1%u4E2D%u5FC3%22%3E%u6CF8%u53BF%u6C34%u65F1%u707E%u5BB3%u9632%u5FA1%u4E2D%u5FC3%3Cspan%20class%3D%22yyzt%22%3E%u6B63%u5E38%3C/span%3E%3C/td%3E%3Ctd%3E%u6CF8%u5DDE%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u56DB%u5DDD%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E6%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%2723205489D0A2C8264CD5E1A71201B1FAAF26C32C0C0576A7E8985D6C77AE7BE9%27%2C1%2C0%29%3B%22%3E%3Ctd%3E2%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u4E1C%u839E%u5E02%u6607%u5E73%u6D77%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u4E1C%u839E%u5E02%u6607%u5E73%u6D77%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5728%u4E1A%3C/span%3E%3C/td%3E%3Ctd%3E%u4E1C%u839E%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u5E7F%u4E1C%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E7%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%272CCD2C29890B98EE57240410EEE161FE0E2F2462D487BB91AB68914A86B17304%27%2C1%2C0%29%3B%22%3E%3Ctd%3E3%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u4E0A%u6D77%u8BDA%u6E90%u77F3%u6CB9%u8FD0%u8F93%u6709%u9650%u516C%u53F8%22%3E%u4E0A%u6D77%u8BDA%u6E90%u77F3%u6CB9%u8FD0%u8F93%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u4E0A%u6D77%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E25%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%27F48B388D71529E94C3B004918EB63EFD6FC28B86FB1C2E9EBF749ED8D745C5DB%27%2C1%2C0%29%3B%22%3E%3Ctd%3E4%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u4E0A%u6D77%u534E%u6DA6%u5927%u4E1C%u8239%u52A1%u5DE5%u7A0B%u6709%u9650%u516C%u53F8%22%3E%u4E0A%u6D77%u534E%u6DA6%u5927%u4E1C%u8239%u52A1%u5DE5%u7A0B%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u4E0A%u6D77%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E31%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%271A4CEA111C6C27CD1F4EC0BDFD5B5C15B5F90EE5B542CDB7584B54344B73BF52%27%2C1%2C0%29%3B%22%3E%3Ctd%3E5%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u5E38%u5DDE%u5E02%u987A%u6C5F%u8FD0%u8F93%u6709%u9650%u516C%u53F8%22%3E%u5E38%u5DDE%u5E02%u987A%u6C5F%u8FD0%u8F93%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u5E38%u5DDE%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6C5F%u82CF%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E20%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%2792ED2EFDA47768B24E53311887CFF70E460654A56EFC7272BF0997856BA84939%27%2C1%2C0%29%3B%22%3E%3Ctd%3E6%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u4E1C%u5C55%u8239%u8FD0%u80A1%u4EFD%u516C%u53F8%22%3E%u4E1C%u5C55%u8239%u8FD0%u80A1%u4EFD%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u821F%u5C71%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6D59%u6C5F%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E9%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%2709C056CFA88686D60DD15FA123565E115F6E524E581C0CBB52228928B70E81DB%27%2C1%2C0%29%3B%22%3E%3Ctd%3E7%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u5E7F%u5DDE%u5E02%u5357%u6E2F%u8239%u52A1%u6709%u9650%u516C%u53F8%22%3E%u5E7F%u5DDE%u5E02%u5357%u6E2F%u8239%u52A1%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5728%u4E1A%3C/span%3E%3C/td%3E%3Ctd%3E%u5E7F%u5DDE%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u5E7F%u4E1C%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E5%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%271BF9D786947DE881BB895B52EF542C18047D1EB12F0AEE9365C8A64B71BFF020%27%2C1%2C0%29%3B%22%3E%3Ctd%3E8%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u60A6%u5E73%uFF08%u4E1C%u839E%uFF09%u6D77%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u60A6%u5E73%uFF08%u4E1C%u839E%uFF09%u6D77%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5728%u4E1A%3C/span%3E%3C/td%3E%3Ctd%3E%u4E1C%u839E%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u5E7F%u4E1C%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E4%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%27C7CAF0B5C6A52221101E0A7AB50440E9480F58047C7D7DC1E213821FA1D023C4%27%2C1%2C0%29%3B%22%3E%3Ctd%3E9%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u6E29%u5DDE%u946B%u704F%u822A%u8FD0%u80A1%u4EFD%u6709%u9650%u516C%u53F8%22%3E%u6E29%u5DDE%u946B%u704F%u822A%u8FD0%u80A1%u4EFD%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u6E29%u5DDE%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6D59%u6C5F%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E1%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%270BF5EDD4EBAF8F14F745AAFCA7168E0763D6AE9D1D1FF203337DF7982BFE1875%27%2C1%2C0%29%3B%22%3E%3Ctd%3E10%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u821F%u5C71%u705C%u6DA6%u822A%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u821F%u5C71%u705C%u6DA6%u822A%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u821F%u5C71%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6D59%u6C5F%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E9%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%27EC19BCB83E9C43EE3BE98CCF1ADE2D4FECA5EBEB871F0FECED4213385E2A03CA%27%2C1%2C0%29%3B%22%3E%3Ctd%3E11%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u6C5F%u82CF%u5168%u5F3A%u6D77%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u6C5F%u82CF%u5168%u5F3A%u6D77%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5728%u4E1A%3C/span%3E%3C/td%3E%3Ctd%3E%u5357%u4EAC%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6C5F%u82CF%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E65%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%27D8DAD4C0B4331BD4946FAC7C4FF77E0B25A77F8A025DBCCD3B4907EC9D9A99BF%27%2C1%2C0%29%3B%22%3E%3Ctd%3E12%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u5B81%u6CE2%u9A81%u8FDC%u6D77%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u5B81%u6CE2%u9A81%u8FDC%u6D77%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u5B81%u6CE2%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6D59%u6C5F%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E3%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%27F60A653E3DFB0D04CA8F50F6BED64D3EAF3BB5357130C2B557CB9ADD1F13C952%27%2C1%2C0%29%3B%22%3E%3Ctd%3E13%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u6C5F%u82CF%u8363%u6770%u62D6%u8F6E%u6709%u9650%u516C%u53F8%22%3E%u6C5F%u82CF%u8363%u6770%u62D6%u8F6E%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5728%u4E1A%3C/span%3E%3C/td%3E%3Ctd%3E%u5357%u901A%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u6C5F%u82CF%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E2%3C/td%3E%3C/tr%3E%3Ctr%20onclick%3D%22locationUrl_Records%28%273D8F1648DA018C585CA3F6457B97D641B58A84DD84F4249D3AA8BEA95806AFFA%27%2C1%2C0%29%3B%22%3E%3Ctd%3E14%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u5B89%u5FBD%u55A7%u817E%u822A%u8FD0%u6709%u9650%u516C%u53F8%22%3E%u5B89%u5FBD%u55A7%u817E%u822A%u8FD0%u6709%u9650%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u868C%u57E0%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u5B89%u5FBD%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E14%3C/td%3E%3C/tr%3E%3Ctr%20class%3D%22even%22%20onclick%3D%22locationUrl_Records%28%27EE1FF87733815BA4ACBC3EC93BC4FBE15F384CED291B57E2C3BB15039FE36D80%27%2C1%2C0%29%3B%22%3E%3Ctd%3E15%3C/td%3E%3Ctd%20class%3D%22text-left%22%20title%3D%22%u53A6%u95E8%u9F0E%u7965%u987A%u8239%u52A1%u6709%u9650%u8D23%u4EFB%u516C%u53F8%22%3E%u53A6%u95E8%u9F0E%u7965%u987A%u8239%u52A1%u6709%u9650%u8D23%u4EFB%u516C%u53F8%3Cspan%20class%3D%22yyzt%22%3E%u5B58%u7EED%3C/span%3E%3C/td%3E%3Ctd%3E%u53A6%u95E8%20/%20%3Cspan%20class%3D%22text-prov%22%3E%u798F%u5EFA%3C/span%3E%3C/td%3E%3Ctd%3E2025%3C/td%3E%3Ctd%3E1%3C/td%3E%3C/tr%3E'

# 1. URL 解码
decoded_str = urllib.parse.unquote(encoded_str)

# 2. 处理 %uXXXX 格式的 Unicode 编码
# 使用正则替换 %uXXXX → \uXXXX，并解码
decoded_str = re.sub(r'%u([0-9a-fA-F]{4})', decode_unicode_escape, decoded_str)

# 3. 提取结构化数据
soup = BeautifulSoup(decoded_str, "html.parser")
rows = soup.find_all("tr")

for row in rows:
    cells = row.find_all("td")
    serial = cells[0].text.strip()
    company = cells[1].text.strip()
    location = cells[2].text.strip()
    year = cells[3].text.strip()
    value = cells[4].text.strip()
    print(f"序号: {serial}, 企业: {company}, 地区: {location}, 年份: {year}, 数值: {value}")